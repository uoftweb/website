# Migration `20200929235441-rename-articles-map`

This migration has been generated by Umar Ahmed at 9/29/2020, 7:54:41 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "articles" (
    "slug" TEXT NOT NULL,
PRIMARY KEY ("slug")
)

PRAGMA foreign_keys=OFF;
CREATE TABLE "new__ArticleToUser" (
    "A" TEXT NOT NULL,
    "B" INTEGER NOT NULL,

    FOREIGN KEY ("A") REFERENCES "articles"("slug") ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY ("B") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE CASCADE
);
INSERT INTO "new__ArticleToUser" ("A", "B") SELECT "A", "B" FROM "_ArticleToUser";
DROP TABLE "_ArticleToUser";
ALTER TABLE "new__ArticleToUser" RENAME TO "_ArticleToUser";
CREATE UNIQUE INDEX "_ArticleToUser_AB_unique" ON "_ArticleToUser"("A", "B");
CREATE INDEX "_ArticleToUser_B_index" ON "_ArticleToUser"("B");
PRAGMA foreign_key_check;
PRAGMA foreign_keys=ON

PRAGMA foreign_keys=off;
DROP TABLE "Article";
PRAGMA foreign_keys=on
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200929234919-articles-stars..20200929235441-rename-articles-map
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = ["sqlite", "postgresql"]
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -68,5 +68,7 @@
 model Article {
   slug       String @id
   stargazers User[]
+
+  @@map(name: "articles")
 }
```


